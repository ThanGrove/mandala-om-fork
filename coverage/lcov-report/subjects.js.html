
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for subjects.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="index.html">All files</a> subjects.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/257</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/106</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/37</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/219</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a>
<a name='L253'></a><a href='#L253'>253</a>
<a name='L254'></a><a href='#L254'>254</a>
<a name='L255'></a><a href='#L255'>255</a>
<a name='L256'></a><a href='#L256'>256</a>
<a name='L257'></a><a href='#L257'>257</a>
<a name='L258'></a><a href='#L258'>258</a>
<a name='L259'></a><a href='#L259'>259</a>
<a name='L260'></a><a href='#L260'>260</a>
<a name='L261'></a><a href='#L261'>261</a>
<a name='L262'></a><a href='#L262'>262</a>
<a name='L263'></a><a href='#L263'>263</a>
<a name='L264'></a><a href='#L264'>264</a>
<a name='L265'></a><a href='#L265'>265</a>
<a name='L266'></a><a href='#L266'>266</a>
<a name='L267'></a><a href='#L267'>267</a>
<a name='L268'></a><a href='#L268'>268</a>
<a name='L269'></a><a href='#L269'>269</a>
<a name='L270'></a><a href='#L270'>270</a>
<a name='L271'></a><a href='#L271'>271</a>
<a name='L272'></a><a href='#L272'>272</a>
<a name='L273'></a><a href='#L273'>273</a>
<a name='L274'></a><a href='#L274'>274</a>
<a name='L275'></a><a href='#L275'>275</a>
<a name='L276'></a><a href='#L276'>276</a>
<a name='L277'></a><a href='#L277'>277</a>
<a name='L278'></a><a href='#L278'>278</a>
<a name='L279'></a><a href='#L279'>279</a>
<a name='L280'></a><a href='#L280'>280</a>
<a name='L281'></a><a href='#L281'>281</a>
<a name='L282'></a><a href='#L282'>282</a>
<a name='L283'></a><a href='#L283'>283</a>
<a name='L284'></a><a href='#L284'>284</a>
<a name='L285'></a><a href='#L285'>285</a>
<a name='L286'></a><a href='#L286'>286</a>
<a name='L287'></a><a href='#L287'>287</a>
<a name='L288'></a><a href='#L288'>288</a>
<a name='L289'></a><a href='#L289'>289</a>
<a name='L290'></a><a href='#L290'>290</a>
<a name='L291'></a><a href='#L291'>291</a>
<a name='L292'></a><a href='#L292'>292</a>
<a name='L293'></a><a href='#L293'>293</a>
<a name='L294'></a><a href='#L294'>294</a>
<a name='L295'></a><a href='#L295'>295</a>
<a name='L296'></a><a href='#L296'>296</a>
<a name='L297'></a><a href='#L297'>297</a>
<a name='L298'></a><a href='#L298'>298</a>
<a name='L299'></a><a href='#L299'>299</a>
<a name='L300'></a><a href='#L300'>300</a>
<a name='L301'></a><a href='#L301'>301</a>
<a name='L302'></a><a href='#L302'>302</a>
<a name='L303'></a><a href='#L303'>303</a>
<a name='L304'></a><a href='#L304'>304</a>
<a name='L305'></a><a href='#L305'>305</a>
<a name='L306'></a><a href='#L306'>306</a>
<a name='L307'></a><a href='#L307'>307</a>
<a name='L308'></a><a href='#L308'>308</a>
<a name='L309'></a><a href='#L309'>309</a>
<a name='L310'></a><a href='#L310'>310</a>
<a name='L311'></a><a href='#L311'>311</a>
<a name='L312'></a><a href='#L312'>312</a>
<a name='L313'></a><a href='#L313'>313</a>
<a name='L314'></a><a href='#L314'>314</a>
<a name='L315'></a><a href='#L315'>315</a>
<a name='L316'></a><a href='#L316'>316</a>
<a name='L317'></a><a href='#L317'>317</a>
<a name='L318'></a><a href='#L318'>318</a>
<a name='L319'></a><a href='#L319'>319</a>
<a name='L320'></a><a href='#L320'>320</a>
<a name='L321'></a><a href='#L321'>321</a>
<a name='L322'></a><a href='#L322'>322</a>
<a name='L323'></a><a href='#L323'>323</a>
<a name='L324'></a><a href='#L324'>324</a>
<a name='L325'></a><a href='#L325'>325</a>
<a name='L326'></a><a href='#L326'>326</a>
<a name='L327'></a><a href='#L327'>327</a>
<a name='L328'></a><a href='#L328'>328</a>
<a name='L329'></a><a href='#L329'>329</a>
<a name='L330'></a><a href='#L330'>330</a>
<a name='L331'></a><a href='#L331'>331</a>
<a name='L332'></a><a href='#L332'>332</a>
<a name='L333'></a><a href='#L333'>333</a>
<a name='L334'></a><a href='#L334'>334</a>
<a name='L335'></a><a href='#L335'>335</a>
<a name='L336'></a><a href='#L336'>336</a>
<a name='L337'></a><a href='#L337'>337</a>
<a name='L338'></a><a href='#L338'>338</a>
<a name='L339'></a><a href='#L339'>339</a>
<a name='L340'></a><a href='#L340'>340</a>
<a name='L341'></a><a href='#L341'>341</a>
<a name='L342'></a><a href='#L342'>342</a>
<a name='L343'></a><a href='#L343'>343</a>
<a name='L344'></a><a href='#L344'>344</a>
<a name='L345'></a><a href='#L345'>345</a>
<a name='L346'></a><a href='#L346'>346</a>
<a name='L347'></a><a href='#L347'>347</a>
<a name='L348'></a><a href='#L348'>348</a>
<a name='L349'></a><a href='#L349'>349</a>
<a name='L350'></a><a href='#L350'>350</a>
<a name='L351'></a><a href='#L351'>351</a>
<a name='L352'></a><a href='#L352'>352</a>
<a name='L353'></a><a href='#L353'>353</a>
<a name='L354'></a><a href='#L354'>354</a>
<a name='L355'></a><a href='#L355'>355</a>
<a name='L356'></a><a href='#L356'>356</a>
<a name='L357'></a><a href='#L357'>357</a>
<a name='L358'></a><a href='#L358'>358</a>
<a name='L359'></a><a href='#L359'>359</a>
<a name='L360'></a><a href='#L360'>360</a>
<a name='L361'></a><a href='#L361'>361</a>
<a name='L362'></a><a href='#L362'>362</a>
<a name='L363'></a><a href='#L363'>363</a>
<a name='L364'></a><a href='#L364'>364</a>
<a name='L365'></a><a href='#L365'>365</a>
<a name='L366'></a><a href='#L366'>366</a>
<a name='L367'></a><a href='#L367'>367</a>
<a name='L368'></a><a href='#L368'>368</a>
<a name='L369'></a><a href='#L369'>369</a>
<a name='L370'></a><a href='#L370'>370</a>
<a name='L371'></a><a href='#L371'>371</a>
<a name='L372'></a><a href='#L372'>372</a>
<a name='L373'></a><a href='#L373'>373</a>
<a name='L374'></a><a href='#L374'>374</a>
<a name='L375'></a><a href='#L375'>375</a>
<a name='L376'></a><a href='#L376'>376</a>
<a name='L377'></a><a href='#L377'>377</a>
<a name='L378'></a><a href='#L378'>378</a>
<a name='L379'></a><a href='#L379'>379</a>
<a name='L380'></a><a href='#L380'>380</a>
<a name='L381'></a><a href='#L381'>381</a>
<a name='L382'></a><a href='#L382'>382</a>
<a name='L383'></a><a href='#L383'>383</a>
<a name='L384'></a><a href='#L384'>384</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* 	SUBJECTS PAGES ****************************************************************************************************************************
&nbsp;
	This module draws the subjects page based on a kmap from SOLR. Some information comes from the kmap
	passed in and some from the a second query from the child data in the Terms index. 
	
	The related resources menu is drawn, which pulls data via another SOLR call. If an image is present
	it is drawn there. Below that is a browsable index of subjects. Clicking on one will bring up that page.
	
	A tabbed menu shows the CONTEXT, where the page fits in the tree. Clicking on one will bring up that page.
	You can drill down further in the tree by clicking on a '+' dot or collapse branches with th '-'. The SUMMARY,
	which lists the related subjects to this page, catagorized by their type and alpabetically sorted. 	Clicking 
	on one will bring up that page. Hovering over a blue popover icon will show more information about it.
&nbsp;
	Requires: 	jQuery 												// Almost any version should work
	CSS:		searchui.css										// All styles are prefixed with 'sui-'
	JS:			ECMA-6												// Uses lambda (arrow) functions
	JSON:		From Drupal site
	Globals:	Looks for sui and sui.pages
	Dependents:	pages.js, searchui.js								// JS modules called
&nbsp;
*********************************************************************************************************************************************/
&nbsp;
class Subjects  {																					
&nbsp;
<span class="fstat-no" title="function not covered" >	co</span>nstructor()   																		// CONSTRUCTOR
	{
<span class="cstat-no" title="statement not covered" >		this.div=sui.pages.div;	</span>																// Div to hold page (same as Pages class)
<span class="cstat-no" title="statement not covered" >		this.content=["...loading","...loading"];	</span>											// Content pages for relateds
<span class="cstat-no" title="statement not covered" >		this.content2=["&lt;br&gt;","&lt;br&gt;"];</span>
<span class="cstat-no" title="statement not covered" >		this.kmap=null;	</span>																		// Holds kmap
<span class="cstat-no" title="statement not covered" >		this.relatedPlaceData=null;	</span>															// Holds related places
<span class="cstat-no" title="statement not covered" >		this.relatedSubjectData=null;	</span>														// Holds related subjects
		}
&nbsp;
<span class="fstat-no" title="function not covered" >	Dr</span>aw(o, related)																			// DRAW SOURCE PAGE FROM KMAP
	{
<span class="cstat-no" title="statement not covered" >		this.kmap=o;	</span>																		// Save kmap
<span class="cstat-no" title="statement not covered" >		$("#sui-results").css({ "padding-left":"12px", width:"calc(100% - 24px"});	</span>			// Reset to normal size
<span class="cstat-no" title="statement not covered" >		this.GetSubjectData(o);	</span>																// Get related subjects content	
<span class="cstat-no" title="statement not covered" >		this.DrawContent(o,related);	</span>														// Draw content
<span class="cstat-no" title="statement not covered" >		sui.pages.DrawRelatedAssets(o);	</span>														// Draw related assets menu
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Dr</span>awContent(o, related)																	// DRAW CONTENT
	{
		let str=<span class="cstat-no" title="statement not covered" >`&lt;div class='sui-subjects' id='sui-subConDiv'&gt;</span>
		&lt;div&gt;&lt;span class='sui-subIcon'&gt;${sui.assets[o.asset_type].g}&lt;/span&gt;
		&lt;span class='sui-subText'&gt;${o.title[0]}&lt;/span&gt;
		&lt;hr style='border-top: 1px solid ${sui.assets[o.asset_type].c}'&gt;`;
<span class="cstat-no" title="statement not covered" >		if (o.caption)	<span class="cstat-no" title="statement not covered" >str+="&lt;p id='sui-spCap'&gt;"+o.caption+"&lt;/p&gt;&lt;/div&gt;";</span></span>
<span class="cstat-no" title="statement not covered" >		if (related == 1) 		<span class="cstat-no" title="statement not covered" >str="&lt;div style='margin-left:192px'&gt;"+sui.pages.DrawTabMenu(["SUBJECT CONTEXT","RELATED SUBJECTS"]); </span> // If subjects, add tab menu</span>
		else <span class="cstat-no" title="statement not covered" >if (related == 2)	<span class="cstat-no" title="statement not covered" >str="&lt;div id='sui-topCon' style='margin-left:216px'&gt;"+this.GetPlaceData(o);	</span></span>						  // If places, get data
<span class="cstat-no" title="statement not covered" >		$(this.div).html(str+"&lt;/div&gt;".replace(/\t|\n|\r/g,""));	</span>								// Remove format and add to div				
		;
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-tabTab]").on("click", <span class="fstat-no" title="function not covered" >(e</span>)=&gt; {												// ON TAB CLICK</span>
			var id=<span class="cstat-no" title="statement not covered" >e.currentTarget.id.substring(10);</span>											// Get index of tab	
<span class="cstat-no" title="statement not covered" >			this.ShowTab(id);	</span>																// Draw it
			});
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Sh</span>owTab(which) 																			// SHOW TAB
	{
		let _this=<span class="cstat-no" title="statement not covered" >this;</span>
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-spLab-]").off("click");	</span>													// Kill handler
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-spDot-]").off("click");	</span>													// Kill handler
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-spItem-]").off("click");	</span>												// Kill handler
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-togCat-]").off("click");	</span>												// Kill handler
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-spCatUL-]").off("click");	</span>												// Kill handler
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-tabTab]").css({"background-color":"#999",color:"#fff" });	</span>				// Reset all tabs
<span class="cstat-no" title="statement not covered" >		$("#sui-tabContent").css({display:"block","background-color":"#eee"});	</span>				// Show content
<span class="cstat-no" title="statement not covered" >		$("#sui-tabTab"+which).css({"background-color":"#eee",color:"#000"});	</span>				// Active tab
<span class="cstat-no" title="statement not covered" >		$("#sui-tabContent").html(this.content[which]);	</span>										// Set content
<span class="cstat-no" title="statement not covered" >		if (which == 0)	{																		// If SUBJECT CONTEXT</span>
<span class="cstat-no" title="statement not covered" >			$("#sui-spLab-"+this.kmap.uid).css({ "font-weight":"bold", "text-decoration": "underline"  });	</span>// Highlight current one	
<span class="cstat-no" title="statement not covered" >			$("[id^=sui-spLab-]").on("click", <span class="fstat-no" title="function not covered" >fu</span>nction(e) {<span class="cstat-no" title="statement not covered" >return false;	</span>});	</span>				// ON CONTEXT LINE CLICK, INHIBIT
<span class="cstat-no" title="statement not covered" >			$("[id^=sui-spDot-]").on("click", <span class="fstat-no" title="function not covered" >fu</span>nction(e) {										// ON RELATIONSHIP TREE DOT CLICK</span>
				let path=<span class="cstat-no" title="statement not covered" >e.currentTarget.id.substring(10);</span>										// Get id
<span class="cstat-no" title="statement not covered" >				if (path != "null") <span class="cstat-no" title="statement not covered" >sui.pages.AddRelBranch(_this.kmap.asset_type,path,$(this));	</span></span>// Lazy load branch
<span class="cstat-no" title="statement not covered" >				$(this).html("&amp;ndash;"); </span>														// Change label
<span class="cstat-no" title="statement not covered" >				$(this).parent().find('ul').slideToggle(); </span>           							// Slide into place
				});
			}
		else <span class="cstat-no" title="statement not covered" >if (which == 1) {																	// If RELATED SUBJECTS</span>
<span class="cstat-no" title="statement not covered" >			$("[id^=sui-spItem-]").on("click", <span class="fstat-no" title="function not covered" >fu</span>nction(e) {<span class="cstat-no" title="statement not covered" >return false;	</span>});	</span>				// ON CONTEXT LINE CLICK, INHIBIT
<span class="cstat-no" title="statement not covered" >			$("[id^=sui-spCatUL-]").slideDown();	</span>											// All down
<span class="cstat-no" title="statement not covered" >			$("[id^=sui-spCat-]").on("click", <span class="fstat-no" title="function not covered" >(e</span>)=&gt; {											// ON CATEGORY CLICK</span>
				let id=<span class="cstat-no" title="statement not covered" >e.currentTarget.id.substring(9);</span>											// Get id
<span class="cstat-no" title="statement not covered" >				if ($("#sui-spCatUL"+id).css("display") == "none")								// If hidden</span>
<span class="cstat-no" title="statement not covered" >					$("#sui-spCatUL"+id).slideDown();	</span>										// Show
				else																			// If showing
<span class="cstat-no" title="statement not covered" >					$("#sui-spCatUL"+id).slideUp();	</span>											// Hide
				});
&nbsp;
<span class="cstat-no" title="statement not covered" >			$("#sui-togCatA").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {												// ON EXPAND ALL</span>
<span class="cstat-no" title="statement not covered" >				$("[id^=sui-spCatUL-]").slideDown();	</span>										// All down
				});
<span class="cstat-no" title="statement not covered" >			$("#sui-togCatN").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {												// ON COLLAPSE ALL</span>
<span class="cstat-no" title="statement not covered" >				$("[id^=sui-spCatUL-]").slideUp();	</span>											// All down
				});
			}
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Ge</span>tPlaceData(o)																			// GET RELATED PLACES
	{
<span class="cstat-no" title="statement not covered" >		sui.GetRelatedPlaces(o.uid, <span class="fstat-no" title="function not covered" >(d</span>)=&gt;{														// Get related place data</span>
<span class="cstat-no" title="statement not covered" >			this.relatedPlaceData=d;	</span>														// Save data															
<span class="cstat-no" title="statement not covered" >			this.DrawRelatedPlaces("tree",1);	</span>												// Display related places
			});	
<span class="cstat-no" title="statement not covered" >		return "Loading...";	</span>																// Say we're loading...
	}	
			
<span class="fstat-no" title="function not covered" >	Dr</span>awRelatedPlaces(mode, sortMode)														// DRAW RELATED PLACES
	{			
		let i,j,id,tops=<span class="cstat-no" title="statement not covered" >[];</span>
		let d=<span class="cstat-no" title="statement not covered" >this.relatedPlaceData;</span>															// Point at realte placev data
		let o=<span class="cstat-no" title="statement not covered" >this.kmap;</span>																		// Point at kmap
		let str=<span class="cstat-no" title="statement not covered" >`&lt;br&gt;&lt;div class='sui-spHead'&gt;Places related to ${o.title}&lt;/div&gt;</span>
		&lt;p style='color:#666'&gt;
		&lt;input id='sui-rpSearch' placeholder='&amp;nbsp;Search places' 
		style='width:100px;border:1px solid #999;border-radius:12px;padding-left:8px'&gt; &amp;nbsp;
		&lt;span class='sui-advEditBut' style='color:${mode == "tree" ? "#668eec" : "#666"}' 
		id='sui-rpTree' title='Tree view'&gt;&amp;#xe638&lt;/span&gt; | 
		&lt;span class='sui-advEditBut' style='color:${mode != "tree" ? "#668eec" : "#666"}'
		id='sui-rpList' title='List view'&gt;&amp;#xe61f&lt;/span&gt;`;
<span class="cstat-no" title="statement not covered" >		if (mode != "tree") {																	// If drawing as a list</span>
<span class="cstat-no" title="statement not covered" >			j=$("#sui-footer").offset().top-$("#sui-results").offset().top-150;	</span>				// Fill space
<span class="cstat-no" title="statement not covered" >			str+=` | &lt;span class='sui-advEditBut' id='sui-rpSort' title='Sort'&gt;</span>
			${(sortMode == 1) ? "&amp;#xe653" : "&amp;#xe652"}&lt;/span&gt;		
			&lt;/p&gt;&lt;div class='sui-rpList' style='height:${j}px'&gt;`;								// Add container			
<span class="cstat-no" title="statement not covered" >			d=d.sort(<span class="fstat-no" title="function not covered" >(a</span>,b)=&gt;{ <span class="cstat-no" title="statement not covered" >return a.title &lt; b.title ? -sortMode : sortMode </span>})	</span>			// Sort by title acending
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;d.length;++i) {															// For each related place</span>
<span class="cstat-no" title="statement not covered" >				str+=`&lt;div id='sui-rpLine-${i}' style='width:300px' title='${d[i].ancestors_txt.join("/")}'&gt;${d[i].title}&lt;/div&gt;`; </span>	// Add line
				}
<span class="cstat-no" title="statement not covered" >			$("#sui-topCon").html(str+"&lt;/div&gt;");	</span>											// Draw as list
<span class="cstat-no" title="statement not covered" >			$("#sui-rpTree").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {	<span class="cstat-no" title="statement not covered" >this.DrawRelatedPlaces("tree",sortMode); </span>});	</span>// HANDLE TREE CLICK
<span class="cstat-no" title="statement not covered" >			$("#sui-rpSort").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {	<span class="cstat-no" title="statement not covered" >this.DrawRelatedPlaces("list",sortMode*-1);	</span>});	</span>// HANDLE SORT
<span class="cstat-no" title="statement not covered" >			$("#sui-rpSearch").on("keydown",<span class="fstat-no" title="function not covered" >(e</span>)=&gt; {												// ON SEARCH</span>
				let line;
				let r=<span class="cstat-no" title="statement not covered" >$("#sui-rpSearch").val();</span>													// Get filter text
<span class="cstat-no" title="statement not covered" >				if ((e.keyCode &gt; 31) &amp;&amp; (e.keyCode &lt; 91)) 	<span class="cstat-no" title="statement not covered" >r+=e.key;	</span></span>						// Add current key if a-Z
<span class="cstat-no" title="statement not covered" >				if ((e.keyCode == 8) &amp;&amp; r.length)			<span class="cstat-no" title="statement not covered" >r=r.slice(0,-1);	</span></span>				// Remove last char on backspace
<span class="cstat-no" title="statement not covered" >				r=RegExp(r,"i");	</span>															// Turn into regex
<span class="cstat-no" title="statement not covered" >				for (i=0;i&lt;d.length;++i) {														// For each item</span>
<span class="cstat-no" title="statement not covered" >					line=$("#sui-rpLine-"+i);	</span>												// Point at line
<span class="cstat-no" title="statement not covered" >					if (line.text().match(r))	<span class="cstat-no" title="statement not covered" >line.css("display","block");	</span>				// Show item if it matches</span>
					else						<span class="cstat-no" title="statement not covered" >line.css("display","none");	</span>					// Hide
					}
				});
<span class="cstat-no" title="statement not covered" >			return;	</span>																			// Quit
			}
<span class="cstat-no" title="statement not covered" >		str+=` | &lt;span class='sui-advEditBut' style='vertical-align:0' </span>
		id='sui-togCatA' title='Expand all'&lt;b&gt;&amp;#x2295&lt;/b&gt;&lt;/span&gt; | 
		&lt;span class='sui-advEditBut' style='vertical-align:0'
		id='sui-togCatN' title='Collapse all'&gt;&lt;b&gt;&amp;#x2296&lt;/b&gt;&lt;/span&gt; 
		&lt;/p&gt;&lt;div style='width:100%'&gt;&lt;div style='display:inline-block'&gt;
		&lt;ul style='list-style-type:none;margin-left:-24px'&gt;`;									// Top-most &lt;ul&gt;
		let n=<span class="cstat-no" title="statement not covered" >d.length;</span>																			// Number of places
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;n;++i) {																		// For each related place	</span>
<span class="cstat-no" title="statement not covered" >			id="places-";	</span>																	// Start id
<span class="cstat-no" title="statement not covered" >			for (j=0;j&lt;d[i].ancestor_ids_is.length;++j) {										// For each level	</span>
<span class="cstat-no" title="statement not covered" >				id+=d[i].ancestor_ids_is[j]+"-";	</span>											// Add levels
<span class="cstat-no" title="statement not covered" >				tops.push({ lab:d[i].ancestors_txt[j], level:j, id:id.slice(0,-1), uid:"places-"+d[i].ancestor_ids_is[j]});	</span>	// Add to list
<span class="cstat-no" title="statement not covered" >				tops[tops.length-1].parent=id.split("-").slice(0,-2).pop();	</span>					// Add parent
				}
			}
		
<span class="cstat-no" title="statement not covered" >		tops=tops.sort(<span class="fstat-no" title="function not covered" >(a</span>,b)=&gt;{ <span class="cstat-no" title="statement not covered" >return a.id &lt; b.id ? -1 : 1 </span>})	</span>								// Sort by path
<span class="cstat-no" title="statement not covered" >		i=tops[tops.length-1];	</span>																// Save last
<span class="cstat-no" title="statement not covered" >		tops=tops.filter(<span class="fstat-no" title="function not covered" >(a</span>,ind)=&gt;{ <span class="cstat-no" title="statement not covered" >try { <span class="cstat-no" title="statement not covered" >return a.id != tops[ind+1].id </span>} catch(e){} </span>})	</span>		// Only uniques
<span class="cstat-no" title="statement not covered" >		tops.push(i);	</span>																		// Add it back
<span class="cstat-no" title="statement not covered" >		n=tops.length;	</span>																		// New n
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;n;++i) 																		// For place	</span>
<span class="cstat-no" title="statement not covered" >			if (tops[i].level == 0) 															// Add top row</span>
<span class="cstat-no" title="statement not covered" >				str+=addTreeLine(tops[i].lab,tops[i].id,tops[i].id,"&amp;ndash;");	</span>				// Add tree line
&nbsp;
<span class="cstat-no" title="statement not covered" >		$("#sui-topCon").html(str+"&lt;/ul&gt;&lt;/div&gt;");	</span>											// Draw it
&nbsp;
<span class="cstat-no" title="statement not covered" >		$("#sui-rpList").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {	<span class="cstat-no" title="statement not covered" >this.DrawRelatedPlaces("list",sortMode); </span>});	</span>	// HANDLE LIST CLICK
<span class="cstat-no" title="statement not covered" >		$("#sui-rpSearch").on("keyup", <span class="fstat-no" title="function not covered" >()</span>=&gt; {													// HANDLE SEARCH WORD ENTRY</span>
			let t=<span class="cstat-no" title="statement not covered" >$("#sui-rpSearch").val();</span>														// Get value entered
<span class="cstat-no" title="statement not covered" >			this.DrawRelatedPlaces("list",sortMode); </span>											// Draw as list										
<span class="cstat-no" title="statement not covered" >			$("#sui-rpSearch").val(t);	</span>														// Restore value
<span class="cstat-no" title="statement not covered" >			$("#sui-rpSearch").focus();	</span>														// Set focus
<span class="cstat-no" title="statement not covered" >			$("#sui-rpSearch").trigger("keydown",{ keyCode:13 });	</span>							// Filter matches
			});
&nbsp;
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;n;++i) <span class="cstat-no" title="statement not covered" >tops[i].n=countChildren(tops[i].id);	</span></span>								// For each place, count children
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;n;++i) <span class="cstat-no" title="statement not covered" >if (tops[i].level == 0) <span class="cstat-no" title="statement not covered" >addChildren(tops[i].id,1);	</span></span></span>				// For each place, add top row children and recurse
	
<span class="cstat-no" title="statement not covered" >		$('#sui-topCon').find('li').each(<span class="fstat-no" title="function not covered" >fu</span>nction() { 											// For each line</span>
<span class="cstat-no" title="statement not covered" >			j=$(this).parent().find('li').find('b').length;	</span>									// Get count
<span class="cstat-no" title="statement not covered" >			if (j &amp;&amp; !$(this).find('b').length)													// If something</span>
<span class="cstat-no" title="statement not covered" >				$(this).find('img').before("("+j/2+") "); </span>										// Add it before popover
			});
	
		function <span class="fstat-no" title="function not covered" >countChildren(</span>id) {															// COUNT NODE'S CHILDREN
			let i,num=<span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >			id=id.split("-").pop();	</span>															// Get last id
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;n;++i) 																	// For each place	</span>
<span class="cstat-no" title="statement not covered" >				if (tops[i].parent == id)	<span class="cstat-no" title="statement not covered" >++num;	</span></span>											// Has them
<span class="cstat-no" title="statement not covered" >			return num;	</span>																		// Return count
			}
&nbsp;
		function <span class="fstat-no" title="function not covered" >addChildren(</span>id, level) {														// ADD CHILDREN TO NODE RECURSIVELY
			let i,marker,str=<span class="cstat-no" title="statement not covered" >"";</span>
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;n;++i) {																	// For each place</span>
<span class="cstat-no" title="statement not covered" >				if (tops[i].id.match(id) &amp;&amp; (tops[i].level == level)) {							// A child</span>
<span class="cstat-no" title="statement not covered" >					marker=tops[i].n &gt; 0 ? "+" : "&amp;bull;";	</span>									// Set marker type
<span class="cstat-no" title="statement not covered" >					str="&lt;ul style='list-style-type:none;display:none;padding:2px 0 0 24px'&gt;";	</span>// Enclosing &lt;ul&gt; if not a loner
<span class="cstat-no" title="statement not covered" >					str+=addTreeLine(tops[i].lab,tops[i].id,tops[i].uid,marker);	</span>			// Add tree line
<span class="cstat-no" title="statement not covered" >					str+="&lt;/ul&gt;";	</span>															// Close &lt;ul&gt;
<span class="cstat-no" title="statement not covered" >					$("#sui-rpDot-"+id).parent().parent().append(str);	</span>						// Add it
<span class="cstat-no" title="statement not covered" >					addChildren(tops[i].id,level+1);	</span>										// Recurse
					}
				}
			}
&nbsp;
		function <span class="fstat-no" title="function not covered" >addTreeLine(</span>lab, id, uid, marker) {											// ADD LINE TO TREE
			let s=<span class="cstat-no" title="statement not covered" >`&lt;li&gt;`;</span>																		// Header
<span class="cstat-no" title="statement not covered" >			if (marker != "&amp;bull;")	<span class="cstat-no" title="statement not covered" >s+=`&lt;div class='sui-spDot' id='sui-rpDot-${id}'&gt;${marker}&lt;/div&gt;`;	</span>	// If a dot, add it</span>
			else					<span class="cstat-no" title="statement not covered" >s+=`&lt;div class='sui-spDot' id='sui-rpDot-${id}' style='display:none;color:#5b66cb'&gt;&lt;b&gt;&amp;bull;&lt;/div&gt;&amp;bull;&amp;nbsp;&amp;nbsp;`;	</span>// If a loner
<span class="cstat-no" title="statement not covered" >			s+=`&lt;a class='sui-noA' href='#p=${uid}'&gt;${lab}&lt;/b&gt;${sui.pages.AddPop(uid)}&lt;/a&gt;`;	</span>// Add line
<span class="cstat-no" title="statement not covered" >			return s;	</span>																		// Return line
			}
		
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-rpDot-]").off("click");	</span>													// Kill old handlers
<span class="cstat-no" title="statement not covered" >		$("[id^=sui-rpDot-]").on("click", <span class="fstat-no" title="function not covered" >fu</span>nction(e) {											// ON RELATIONSHIP TREE DOT CLICK</span>
			let container=<span class="cstat-no" title="statement not covered" >$(this).parent().parent();</span>											// Point a container
			let c=<span class="cstat-no" title="statement not covered" >$(this).html();</span>																// Get char
<span class="cstat-no" title="statement not covered" >			$(this).html(c == "+" ? "&amp;ndash;" : "+"); </span>											// Toggle label
<span class="cstat-no" title="statement not covered" >			$(container).children('ul').slideToggle(); </span>           								// Slide into place
			});
&nbsp;
<span class="cstat-no" title="statement not covered" >		$("#sui-togCatA").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {													// ON EXPAND ALL</span>
			let i,container;
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;n;++i) {																	// For each place	</span>
<span class="cstat-no" title="statement not covered" >				container=$("#sui-rpDot-"+tops[i].id).parent();	</span>								// Point a container
<span class="cstat-no" title="statement not covered" >				$("#sui-rpDot-"+tops[i].id).html("&amp;ndash;");	</span>								// If not a loner, change label 
<span class="cstat-no" title="statement not covered" >				container.parent().css("display","block");	</span>									// Show	parent ul
<span class="cstat-no" title="statement not covered" >				container.css("display","block");	</span>											// Show	
				}
			});
&nbsp;
<span class="cstat-no" title="statement not covered" >		$("#sui-togCatN").on("click", <span class="fstat-no" title="function not covered" >()</span>=&gt; {													// ON COLLAPSE, INIT TO STARTING STATE</span>
			let i,p;
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;n;++i) {																	// For each place	</span>
<span class="cstat-no" title="statement not covered" >				p=$("#sui-rpDot-"+tops[i].id);	</span>												// Point at dot
<span class="cstat-no" title="statement not covered" >				if (p.html() != "&amp;bull;")	<span class="cstat-no" title="statement not covered" >p.html("+"); </span></span>										// Change label
<span class="cstat-no" title="statement not covered" >				p.parent().parent().css("display","none");	</span>									// Hide	
<span class="cstat-no" title="statement not covered" >				if (tops[i].level &lt; 3) {														// If 2nd level</span>
<span class="cstat-no" title="statement not covered" >					if (tops[i].level &lt; 2) <span class="cstat-no" title="statement not covered" >p.html("&amp;ndash;" ); </span></span>									// Change label is past 1st rows
<span class="cstat-no" title="statement not covered" >					p.parent().parent().css("display","block");	</span>								// Show	
					}
				}
			});
<span class="cstat-no" title="statement not covered" >		$("#sui-togCatN").trigger("click");	</span>													// Collapse to starting point
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Ge</span>tSubjectData(o)																		// GET TAB DATA FOR CONTEXT
	{
<span class="cstat-no" title="statement not covered" >		sui.GetRelatedFromID(o.uid,<span class="fstat-no" title="function not covered" >(d</span>ata)=&gt; { 													// Load data</span>
			let d,i,k=<span class="cstat-no" title="statement not covered" >0,</span>str=<span class="cstat-no" title="statement not covered" >"&lt;table&gt;";</span>
<span class="cstat-no" title="statement not covered" >			if (!data)	<span class="cstat-no" title="statement not covered" >return;	</span></span>																// Quit if no data
<span class="cstat-no" title="statement not covered" >			this.relatedSubjectData=data;	</span>													// Save subject data
<span class="cstat-no" title="statement not covered" >				if (data[0].illustration_external_url &amp;&amp; data[0].illustration_external_url[0]) { // If an image spec'd</span>
<span class="cstat-no" title="statement not covered" >				$("#sui-relatedImg").addClass("sui-relatedImg");	</span>							// Set style
<span class="cstat-no" title="statement not covered" >				$("#sui-relatedImg").prop("src",data[0].illustration_external_url[0]);	</span>		// Show it
				}
			else <span class="cstat-no" title="statement not covered" >if (data[0].illustration_mms_url &amp;&amp; data[0].illustration_mms_url[0]) {			// If an image spec'd</span>
<span class="cstat-no" title="statement not covered" >				$("#sui-relatedImg").addClass("sui-relatedImg");	</span>							// Set style
<span class="cstat-no" title="statement not covered" >				$("#sui-relatedImg").prop("src",data[0].illustration_mms_url[0]);	</span>			// Show it
				}
<span class="cstat-no" title="statement not covered" >			if (data[0].summary_eng &amp;&amp; data[0].summary_eng[0]) 									// If an summary spec'd</span>
<span class="cstat-no" title="statement not covered" >			$("#sui-spCap").html(data[0].summary_eng[0]);	</span>									// Replace caption
<span class="cstat-no" title="statement not covered" >			if (o.names_txt &amp;&amp; o.names_txt.length) {											// If names</span>
<span class="cstat-no" title="statement not covered" >				for (i=0;i&lt;o.names_txt.length;++i) 												// For each name</span>
<span class="cstat-no" title="statement not covered" >					if (o.names_txt[i].match(/lang="bo"/i))										// Language id - bo</span>
<span class="cstat-no" title="statement not covered" >						str+="&lt;tr&gt;&lt;td style='color:#000099;font-size:20px'&gt;&lt;b&gt;"+o.names_txt[i]+"&lt;/b&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;td span='2'&gt;&lt;i&gt;Dzongkha, Tibetan script, Original&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;";	</span>// Add it
				}
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;data.length;++i) {														// For each doc</span>
<span class="cstat-no" title="statement not covered" >				d=data[i];	</span>																	// Point at it
<span class="cstat-no" title="statement not covered" >				if (d.block_child_type != "related_names")	<span class="cstat-no" title="statement not covered" >continue;	</span></span>						// Not a name
<span class="cstat-no" title="statement not covered" >				if (!k) <span class="cstat-no" title="statement not covered" >d.related_names_level_i=0;</span></span>
<span class="cstat-no" title="statement not covered" >				str+=`&lt;tr&gt;&lt;td style='padding-left:${d.related_names_level_i*16}px'&gt;</span>
				${k++ ? "&gt;&amp;nbsp;" : ""}
				&lt;b&gt;${d.related_names_header_s}&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/td&gt;&lt;td&gt;
				&lt;i&gt;${d.related_names_language_s}, ${d.related_names_writing_system_s}, ${d.related_names_relationship_s}
				&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;`;																// Add it
				}
<span class="cstat-no" title="statement not covered" >			str+="&lt;/table&gt;&lt;br&gt;";		</span>
<span class="cstat-no" title="statement not covered" >			$("#sui-subConDiv").append(str.replace(/\t|\n|\r/g,""));	</span>						// Remove format and add to div				
<span class="cstat-no" title="statement not covered" >			this.AddRelatedSubjects(o,data);	</span>												// Add related subjects html
<span class="cstat-no" title="statement not covered" >			this.AddSubjectContext(o,data);	</span>													// Add context html
		});
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Ad</span>dRelatedSubjects(o,c)																	// ADD RELATED SUBJECTS TAB CONTENTS 	
	{	
		let f,i,subs=<span class="cstat-no" title="statement not covered" >0,</span>s=<span class="cstat-no" title="statement not covered" >[];</span>
		let n=<span class="cstat-no" title="statement not covered" >c.length;</span>																			// Get number of subjects
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;n;++i) {																		// For each subject get data as 's=[category[{title,id}]]' </span>
<span class="cstat-no" title="statement not covered" >			if (c[i].block_child_type != "related_subjects") <span class="cstat-no" title="statement not covered" >continue;	</span></span>						// Add only related subjects
<span class="cstat-no" title="statement not covered" >			if (!s[c[i].related_subjects_relation_label_s])										// If first one of this category </span>
<span class="cstat-no" title="statement not covered" >				s[c[i].related_subjects_relation_label_s]=[];	</span>								// Alloc category array
<span class="cstat-no" title="statement not covered" >			s[c[i].related_subjects_relation_label_s].push({									// Add subject to category </span>
				title:c[i].related_subjects_header_s,											// Add title
				id:c[i].related_uid_s });														// Add id
			}											
		let biggest=<span class="cstat-no" title="statement not covered" >Object.keys(s).sort(<span class="fstat-no" title="function not covered" >(a</span>,b)=&gt;{<span class="cstat-no" title="statement not covered" >return a.length &gt; b.length ? -1 : 1;}</span>)[0];</span>		// Find category with most elements	 
		let str=<span class="cstat-no" title="statement not covered" >`&lt;br&gt;&lt;div class='sui-spHead'&gt;Subjects related to ${o.title}&lt;/div&gt;</span>
		&lt;div style='max-width:900px'&gt;
		${o.title[0]}&lt;/b&gt; has &lt;b&gt;~|~&lt;/b&gt; other subject${(n &gt; 1) ? "s": ""} directly related to it, which is presented here. 
		See the SUBJECT CONTEXT tab if you instead prefer to browse all subordinate and superordinate categories for ${o.title[0]}.&lt;/div&gt;
		&lt;p&gt;&lt;a class='sui-advEditBut' id='sui-togCatA'&gt;Expand all&lt;/a&gt; / &lt;a class='sui-advEditBut' id='sui-togCatN'&gt;Collapse all&lt;/a&gt;
		&lt;/p&gt;&lt;div style='width:100%'&gt;&lt;div style='width:50%;display:inline-block'&gt;`;
<span class="cstat-no" title="statement not covered" >		str+=drawCat(biggest)+"&lt;/div&gt;&lt;div style='display:inline-block;width:50%;vertical-align:top'&gt;";	</span>// Add biggest to 1st column, set up 2nd	 
<span class="cstat-no" title="statement not covered" >		for (f in s) <span class="cstat-no" title="statement not covered" >if (f != biggest)	<span class="cstat-no" title="statement not covered" >str+=drawCat(f);	</span></span></span>									// For each other category, draw it in 2nd column
<span class="cstat-no" title="statement not covered" >		str+="&lt;/div&gt;&lt;/div&gt;";</span>
<span class="cstat-no" title="statement not covered" >		str=str.replace(/~\|~/,subs);	</span>														// Set subjects count
<span class="cstat-no" title="statement not covered" >		this.content[1]=str;	</span>																// Set tab
&nbsp;
		function <span class="fstat-no" title="function not covered" >drawCat(</span>f) {																	// DRAW CATEGORY
<span class="cstat-no" title="statement not covered" >			if (!s || !s[f]) <span class="cstat-no" title="statement not covered" >return "&lt;/ul&gt;";	</span></span>												// Bad data 
<span class="cstat-no" title="statement not covered" >			s[f]=s[f].sort(<span class="fstat-no" title="function not covered" >(a</span>,b)=&gt;{ <span class="cstat-no" title="statement not covered" >return a.title &lt; b.title ? -1 : 1;}</span>);	</span>					// Sort
			let str=<span class="cstat-no" title="statement not covered" >"&lt;div id='sui-spCat-"+f.replace(/ /g,"_")+"' class='sui-spCat'&gt;"+o.title+" "+f+"&lt;/div&gt;&lt;ul id='sui-spCatUL-"+f.replace(/ /g,"_")+"' style='display:none'&gt;";</span>// Add category header
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;s[f].length;++i)	{														// For each item</span>
<span class="cstat-no" title="statement not covered" >				str+="&lt;li&gt;&lt;a class='sui-noA' id='sui-spItem-"+s[f][i].id;	</span>					// Line
<span class="cstat-no" title="statement not covered" >				str+="' href='#p="+s[f][i].id+"'&gt;";	</span>											// Href
<span class="cstat-no" title="statement not covered" >				str+=s[f][i].title+"&lt;/a&gt;"+sui.pages.AddPop(s[f][i].id)+"&lt;/li&gt;";	</span>				// Add popover
<span class="cstat-no" title="statement not covered" >				++subs;</span>
			}
<span class="cstat-no" title="statement not covered" >		return str+"&lt;/ul&gt;";	</span>																	// Close category
		}
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	Ad</span>dSubjectContext(o,d)																	// ADD SUNJECYCONTEXT TAB CONTENTS 	
	{	
		let i,n=<span class="cstat-no" title="statement not covered" >0,</span>subs=<span class="cstat-no" title="statement not covered" >0;</span>
<span class="cstat-no" title="statement not covered" >		for (i=0;i&lt;d.length;++i) {																// For each child</span>
<span class="cstat-no" title="statement not covered" >			subs+=d[i].child_count.numFound;	</span>												// Add children
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >subs="(TBD)"</span>
&nbsp;
	let str=<span class="cstat-no" title="statement not covered" >`&lt;br&gt;&lt;div class='sui-spHead'&gt;Subjects related to ${o.title}&lt;/div&gt;</span>
		&lt;div style='max-width:900px'&gt;
		&lt;b&gt;${o.title[0]}&lt;/b&gt; has &lt;b&gt; ${d[0].ancestors.length-1} &lt;/b&gt;superordinate subjects 
		and &lt;b&gt; ${subs} &lt;/b&gt;subordinate subjects. 
		You can browse these subordinate subjects as well as its superordinate categories with the tree below. 
		See the RELATED SUBJECTS tab if you instead prefer to view only its immediately 
		subordinate subjects grouped together in useful ways, as well as subjects non-hierarchically related to it.&lt;/div&gt;&lt;br&gt;
		&lt;ul class='sui-spLin' id='sui-spRows'&gt;`;
		
<span class="cstat-no" title="statement not covered" >		for (n=0;n&lt;d[0].ancestors.length;++n) {													// For each ancestor </span>
<span class="cstat-no" title="statement not covered" >			str+="&lt;ul style='list-style-type:none'&gt;";	</span>										// Add header
<span class="cstat-no" title="statement not covered" >			str+=sui.pages.AddRelTreeLine(d[0].ancestors[n],d[0].ancestor_uids_generic[n],"&amp;ndash;",null); </span>// Add it 
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >		sui.GetTreeChildren(o.asset_type,d[0].ancestor_id_path,<span class="fstat-no" title="function not covered" >(r</span>es)=&gt;{							// Get children</span>
			let i,j,re,m,path;
			let counts=<span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >			try { <span class="cstat-no" title="statement not covered" >counts=res.facets.child_counts.buckets; </span>} catch(e) {}	</span>						// Get child counts
<span class="cstat-no" title="statement not covered" >			res=res.response.docs;	</span>															// Point at docs
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;res.length;++i) {														// For each child</span>
<span class="cstat-no" title="statement not covered" >				path="";	<span class="cstat-no" title="statement not covered" ></span>m=null;	</span>															// Assume a loner												
<span class="cstat-no" title="statement not covered" >				re=new RegExp(res[i].id.split("-")[1]);	</span>										// Get id to search on
<span class="cstat-no" title="statement not covered" >				for (j=0;j&lt;counts.length;++j) {													// For each count</span>
<span class="cstat-no" title="statement not covered" >					if (counts[j].val.match(re)) {												// In this one</span>
<span class="cstat-no" title="statement not covered" >						m="+";	</span>																// Got kids
<span class="cstat-no" title="statement not covered" >						path=counts[j].val;	</span>													// Add path
						}
					}												
<span class="cstat-no" title="statement not covered" >				str+="&lt;ul style='list-style-type:none'&gt;";	</span>									// Header
<span class="cstat-no" title="statement not covered" >				str+=sui.pages.AddRelTreeLine(res[i].header,res[i].id,m,path)+"&lt;/li&gt;&lt;/ul&gt;"; </span>			// Add it
				}
			
<span class="cstat-no" title="statement not covered" >			str=str.replace(/~~/,n+res.length);	</span>												// Set total count
<span class="cstat-no" title="statement not covered" >			for (i=0;i&lt;d[0].ancestors.length;++i) <span class="cstat-no" title="statement not covered" >str+="&lt;/li&gt;&lt;/ul&gt;";	</span></span>						// Close chain
<span class="cstat-no" title="statement not covered" >			this.content[0]=str.replace(/\t|\n|\r/g,"")+"&lt;/ul&gt;&lt;br&gt;";	</span>						// Set 1st content array member with html
<span class="cstat-no" title="statement not covered" >			this.ShowTab(0);	</span>																// Draw it
			});
		}
&nbsp;
} // CLASS CLOSURE</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank">istanbul</a>
                at Wed Apr 29 2020 08:14:27 GMT-0400 (Eastern Daylight Time)
            </div>
        </div>
        <script src="prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="sorter.js"></script>
        <script src="block-navigation.js"></script>
    </body>
</html>
    